
## &После("ПередЗаписью") Процедура IDZAK_ПередЗаписью(Отказ, РежимЗаписи, РежимПроведения)

 <details> <summary> Код  </summary>
   
         Для каждого Товар из ЭтотОбъект.Товары цикл
        		Товар.IDZAKaza =  ?(Товар.IDZAKaza = 0, ОбщийМодульИДЗАКИ.СформироватьIDZAK(Прав(СокрЛП(ЭтотОбъект.Номер),6)),Товар.IDZAKaza);	
        	КонецЦикла; 
        	ПредИдзаказа = 0;
        	Для каждого Товар из ЭтотОбъект.Товары цикл
        		Если ЗначениеЗаполнено(Товар.IDZAKAZA) тогда   
        			Если ПредИдзаказа > 0 и ПредИдзаказа = Товар.IDZAKAZA тогда
        				//совпадает...в чем косяк хз
        				Товар.IDZAKaza =  ?(Товар.IDZAKaza = 0, ОбщийМодульИДЗАКИ.СформироватьIDZAK(Прав(СокрЛП(ЭтотОбъект.Номер),6)),Товар.IDZAKaza);
        				Прервать;
        			КонецЕсли;
        			ПредИдзаказа = Товар.IDZAKAZA;
        		КонецЕсли;		
        	КонецЦикла    	
        КонецПроцедуры

 </details>	
