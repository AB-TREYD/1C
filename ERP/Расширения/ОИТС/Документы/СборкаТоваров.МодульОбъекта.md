# Процедуры

## Процедура ОИТС_ОбработкаПроведения(Отказ, РежимПроведения)
Создание движения по регистру накоплений "ТМЦНаСкладеОИТС". В данном случае создается приход по товару, который является результатом сборки, и расход по комплектующим. 

<details>
<summary> Код </summary>
  
	Если Склад = Справочники.Склады.НайтиПоНаименованию("Отдел ИТС (администрирование)") Тогда
		Движения.ТМЦНаСкладеОИТС.Записывать = Истина;
		Движение = Движения.ТМЦНаСкладеОИТС.Добавить();
		Движение.ВидДвижения = ВидДвиженияНакопления.Приход;
		Движение.Период = Дата;
		Движение.НаименованиеТовара = Номенклатура;
		Движение.Организация = Организация;
		Движение.Количество = КоличествоУпаковок;
		Движение.ЕдиницыИзмерения = Номенклатура.ЕдиницаИзмерения;
		
		Для Каждого ТекСтрокаТовары Из Товары Цикл
			Движение = Движения.ТМЦНаСкладеОИТС.Добавить();
			Движение.ВидДвижения = ВидДвиженияНакопления.Расход;
			Движение.Период = Дата;
			Движение.НаименованиеТовара = ТекСтрокаТовары.Номенклатура;
			Движение.Организация = Организация;
			Движение.Количество = ТекСтрокаТовары.Количество; 
			Движение.ЕдиницыИзмерения = ТекСтрокаТовары.Номенклатура.ЕдиницаИзмерения;
		КонецЦикла;
	КонецЕсли;
</details>
