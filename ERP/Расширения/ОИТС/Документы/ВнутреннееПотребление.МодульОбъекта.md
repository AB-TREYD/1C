# Процедуры

## Процедура ОИТС_ОбработкаПроведения(Отказ, РежимПроведения)
Создание движения по регистру накоплений "ТМЦНаСкладеОИТС".

<details>
<summary> Код </summary>
  
      Если Склад = Справочники.Склады.НайтиПоНаименованию("Отдел ИТС (администрирование)") И Подразделение = Справочники.СтруктураПредприятия.НайтиПоНаименованию("Отдел ИТС") Тогда
      	Движения.ТМЦНаСкладеОИТС.Записывать = Истина;
      	Для Каждого ТекСтрокаТовары Из Товары Цикл
      		Движение = Движения.ТМЦНаСкладеОИТС.Добавить();
      		Движение.ВидДвижения = ВидДвиженияНакопления.Расход;
      		Движение.Период = Дата;
      		Движение.НаименованиеТовара = ТекСтрокаТовары.Номенклатура;
      		Движение.Организация = Организация;
      		Если  ОИТС_УчетТМЦ.ЗапросИзРегистра(ТекСтрокаТовары.СерийныйНомер).Количество() > 0 Тогда
      			Движение.СерийныйНомер = ТекСтрокаТовары.СерийныйНомер;
      		КонецЕсли;
      		Движение.Количество = ТекСтрокаТовары.Количество; 
      		Движение.ЕдиницыИзмерения = ТекСтрокаТовары.Номенклатура.ЕдиницаИзмерения;
      		Если ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.СписаниеТоваровПоТребованию Тогда 
      			Движение.ОтработанРанее = Истина;
      		КонецЕсли;
      	КонецЦикла;
      КонецЕсли;
</details>
