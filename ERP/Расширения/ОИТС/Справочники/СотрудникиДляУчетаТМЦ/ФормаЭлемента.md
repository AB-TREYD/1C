# Процедуры

## Процедура ФизическоеЛицоОбработкаВыбора(Элемент, ВыбранноеЗначение, ДополнительныеДанные, СтандартнаяОбработка)
После выбора физического лица наименование заполняется автоматически.
```
Объект.Наименование = Строка(ВыбранноеЗначение);
```

## Процедура ПередЗаписью(Отказ, ПараметрыЗаписи)
Проверка уникальности по ФИО.

```
Уникальность = ЗапросПроверкаУникальности(Объект.Наименование);
Если Уникальность = Ложь Тогда
	Отказ = Истина;
	Сообщить("Уже существует запись с таким сотрудником!");
КонецЕсли;
```

# Функции 

## Функция ЗапросПроверкаУникальности(ФИО) 
Запрос для проверки.

<details>
<summary>Код</summary>

	Запрос = Новый Запрос;
	Запрос.Текст = 
		"ВЫБРАТЬ
		|	СотрудникиДляУчетаТМЦ.Наименование КАК Наименование
		|ИЗ
		|	Справочник.СотрудникиДляУчетаТМЦ КАК СотрудникиДляУчетаТМЦ
		|ГДЕ
		|	СотрудникиДляУчетаТМЦ.Наименование = &Наименование";
	
	Запрос.УстановитьПараметр("Наименование", ФИО);
	
	РезультатЗапроса = Запрос.Выполнить();
	
	Возврат ?(РезультатЗапроса.Выгрузить().Количество() > 0, Ложь, Истина); 
</details>

